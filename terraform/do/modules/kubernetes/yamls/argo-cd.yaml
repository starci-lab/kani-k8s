# Argo CD Configuration - Variables Only
# This file contains only the sections with variables
# All variables are injected via Terraform templatefile() in argo_cd.tf

## =========================
## Image (Bitnami legacy registry)
## =========================
image:
  registry: docker.io
  repository: bitnamilegacy/argo-cd

## =========================
## Controller Resources
## =========================
controller:
  replicaCount: ${controller_replica_count}
  resources:
    requests:
      cpu: ${controller_request_cpu}
      memory: ${controller_request_memory}
    limits:
      cpu: ${controller_limit_cpu}
      memory: ${controller_limit_memory}

## =========================
## ApplicationSet Resources
## =========================
applicationSet:
  replicaCount: ${application_set_replica_count}
  resources:
    requests:
      cpu: ${application_set_request_cpu}
      memory: ${application_set_request_memory}
    limits:
      cpu: ${application_set_limit_cpu}
      memory: ${application_set_limit_memory}

## =========================
## Notifications Resources
## =========================
notifications:
  resources:
    requests:
      cpu: ${notifications_request_cpu}
      memory: ${notifications_request_memory}
    limits:
      cpu: ${notifications_limit_cpu}
      memory: ${notifications_limit_memory}

## =========================
## Server Resources
## =========================
server:
  replicaCount: ${server_replica_count}
  resources:
    requests:
      cpu: ${server_request_cpu}
      memory: ${server_request_memory}
    limits:
      cpu: ${server_limit_cpu}
      memory: ${server_limit_memory}

## =========================
## Repo Server Resources
## =========================
repoServer:
  replicaCount: ${repo_server_replica_count}
  resources:
    requests:
      cpu: ${repo_server_request_cpu}
      memory: ${repo_server_request_memory}
    limits:
      cpu: ${repo_server_limit_cpu}
      memory: ${repo_server_limit_memory}

## =========================
## Config (insecure + admin password)
## =========================
configs:
  params:
    server.insecure: true
  secret:
    argocdServerAdminPassword: ${admin_password}

## =========================
## Redis (external)
## =========================
externalRedis:
  enabled: true
  host: ${redis_host}
  password: ${redis_password}

redis:
  enabled: false

redisWait:
  enabled: false