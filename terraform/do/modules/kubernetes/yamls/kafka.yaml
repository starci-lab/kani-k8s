# Kafka Configuration - Variables Only
# This file contains only the sections with variables from kafka.yaml
# All variables are injected via Terraform templatefile() in kafka.tf

image:
  registry: docker.io
  repository: bitnamilegacy/kafka

## =========================
## SASL Authentication
## =========================
sasl:
  client:
    users:
      - ${sasl_user}
    passwords: 
      - ${sasl_password}

## =========================
## Volume Permissions Init Container Resources
## =========================
defaultInitContainers:
  volumePermissions:
    resources:
      requests:
        cpu: ${volume_permissions_request_cpu}
        memory: ${volume_permissions_request_memory}
      limits:
        cpu: ${volume_permissions_limit_cpu}
        memory: ${volume_permissions_limit_memory}

## =========================
## Controller Resources
## =========================
controller:
  controllerOnly: true
  replicaCount: ${controller_replica_count}
  resources: 
    requests:
      cpu: ${controller_request_cpu}
      memory: ${controller_request_memory}
    limits:
      cpu: ${controller_limit_cpu}
      memory: ${controller_limit_memory}
  nodeSelector: 
    "doks.digitalocean.com/node-pool": ${node_pool_label}
  persistence:
    size: ${controller_persistence_size}
  logPersistence:
    size: ${controller_log_persistence_size}

## =========================
## Broker Resources
## =========================
broker:
  replicaCount: ${broker_replica_count}
  resources:
    requests:
      cpu: ${broker_request_cpu}
      memory: ${broker_request_memory}
    limits:
      cpu: ${broker_limit_cpu}
      memory: ${broker_limit_memory}
  nodeSelector: 
    "doks.digitalocean.com/node-pool": ${node_pool_label}